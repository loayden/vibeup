(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476);function r(e){return(0,t.jsx)("input",{...e,className:`border border-neutral-700 bg-transparent px-3 py-2 rounded ${e.className??""}`})}e.s(["Input",()=>r])},18566,(e,t,r)=>{t.exports=e.r(76562)},76044,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(67881),i=e.i(23750),l=e.i(17927);function n(){let[e,n]=(0,r.useState)(""),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),m=(0,a.useRouter)(),b=(0,a.useSearchParams)();(0,r.useEffect)(()=>{let e=b?.get("email");e&&n(e)},[b]);let x=async e=>{if(c(null),!e||!/\S+@\S+\.\S+/.test(e))return void c("âŒ Please enter a valid email address.");d(!0);try{let{data:t,error:r}=await l.supabase.from("subscriptions").insert([{email:e}]);r?"23505"===r.code?c("âš ï¸ This email is already subscribed."):c(`âŒ Subscription failed: ${r.message}`):(localStorage.setItem("preCheckoutEmail",e),c("ðŸŽ‰ Email saved! Redirecting to tickets..."),setTimeout(()=>m.push("/checkout"),1e3))}catch(e){c(`âŒ Subscription failed: ${e.message||e}`)}finally{d(!1)}};return(0,t.jsxs)("div",{className:"min-w-0 min-h-0 max-w-md w-full bg-neutral-900/70 backdrop-blur-md p-8 rounded-2xl border border-amber-500/30 text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-extrabold text-amber-400 mb-4 animate-pulse",children:"ðŸŽ« Reserve Your Spot!"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-6",children:"Enter your email to get updates and confirm your ticket reservation."}),(0,t.jsx)(i.Input,{placeholder:"your@email.com",value:e,onChange:e=>n(e.target.value),className:"bg-neutral-800 border border-amber-500 text-white placeholder:text-neutral-400 mb-4 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition",disabled:u}),(0,t.jsx)(s.Button,{onClick:()=>x(e),className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-black font-extrabold py-3 mb-2 rounded-lg hover:scale-105 hover:shadow-lg hover:shadow-amber-500/40 transition-all",disabled:u,children:u?"Submitting...":"Continue to Tickets"}),o&&(0,t.jsx)("p",{className:`mt-4 text-sm font-medium ${o.includes("saved")?"text-green-400":"text-amber-400"}`,children:o})]})}function o(){return(0,t.jsx)("div",{className:" min-h-screen  flex items-center justify-center  bg-gradient-to-br  from-black/80  via-[#1a0730]/70  to-[#2d1b09]/80  py-16  px-6 ",children:(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"text-amber-200 text-sm",children:"Loading..."}),children:(0,t.jsx)(n,{})})})}e.s(["default",()=>o],76044)}]);