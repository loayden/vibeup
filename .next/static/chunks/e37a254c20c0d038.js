(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var t=e.i(43476);function r({children:e,className:r="",variant:a,size:s,...i}){return(0,t.jsx)("button",{className:`inline-flex items-center justify-center px-4 py-2 rounded ${r}`,...i,children:e})}e.s(["Button",()=>r])},23750,e=>{"use strict";var t=e.i(43476);function r(e){return(0,t.jsx)("input",{...e,className:`border border-neutral-700 bg-transparent px-3 py-2 rounded ${e.className??""}`})}e.s(["Input",()=>r])},18566,(e,t,r)=>{t.exports=e.r(76562)},76044,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(67881),i=e.i(23750);function n(){let[e,n]=(0,r.useState)(""),[l,o]=(0,r.useState)(null),[u,c]=(0,r.useState)(!1),d=(0,a.useRouter)(),m=(0,a.useSearchParams)();(0,r.useEffect)(()=>{let e=m?.get("email");e&&n(e)},[m]);let b=async e=>{if(o(null),!e||!/\S+@\S+\.\S+/.test(e))return void o("âŒ Please enter a valid email address.");c(!0);try{let t=await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();t.ok?r.alreadySubscribed?o("âš ï¸ This email is already subscribed."):(localStorage.setItem("preCheckoutEmail",e),o("ðŸŽ‰ Email saved! Redirecting to tickets..."),setTimeout(()=>d.push("/checkout"),1e3)):o(`âŒ Subscription failed: ${r.error||"Unknown error"}`)}catch(e){o(`âŒ Subscription failed: ${e.message||e}`)}finally{c(!1)}};return(0,t.jsxs)("div",{className:"max-w-md w-full bg-neutral-900/80 backdrop-blur-md p-8 rounded-2xl border border-amber-500/40 shadow-lg text-center",style:{minWidth:0,minHeight:0},children:[(0,t.jsx)("h1",{className:"text-4xl font-extrabold text-amber-400 mb-4 animate-pulse",children:"ðŸŽ« Reserve Your Spot!"}),(0,t.jsx)("p",{className:"text-neutral-400 mb-6",children:"Enter your email to get updates and confirm your ticket reservation."}),(0,t.jsx)(i.Input,{placeholder:"your@email.com",value:e,onChange:e=>n(e.target.value),className:"bg-neutral-800 border-neutral-700 text-white placeholder:text-neutral-500 mb-4 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition",disabled:u}),(0,t.jsx)(s.Button,{onClick:()=>b(e),className:"w-full bg-amber-500 hover:bg-amber-600 text-black font-bold py-3 mb-2 transition-transform transform hover:scale-105",disabled:u,children:u?"Submitting...":"Continue to Tickets"}),l&&(0,t.jsx)("p",{className:`mt-4 text-sm ${l.includes("saved")||l.includes("already")?"text-green-400":"text-red-400"} font-medium`,children:l})]})}function l(){return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-neutral-900 via-neutral-950 to-black text-neutral-100 px-6",style:{minWidth:0,minHeight:0},children:(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(n,{})})})}e.s(["default",()=>l])}]);